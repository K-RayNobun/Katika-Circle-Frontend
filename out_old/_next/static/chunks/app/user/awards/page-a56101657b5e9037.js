(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[963],{453:(e,t,r)=>{Promise.resolve().then(r.bind(r,1640))},1640:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var s=r(5155),a=r(2115),l=r(734),n=r(5725),o=r(2651),i=r(5565);let c=e=>{let{referralBonus:t,filleulCount:r}=e;return(0,s.jsxs)("div",{className:"w-full flex gap-[32px]",children:[(0,s.jsxs)("div",{className:"flex justify-center lg:justify-between items-center flex-1 px-[8px] lg:px-[32px] rounded-[12px] border-2 bg-pink/20 border-pink min-h-[120px]",children:[(0,s.jsxs)("div",{className:"font-bold flex flex-col",children:[(0,s.jsxs)("div",{className:"flex justify-center gap-[8px] text-pink",children:[(0,s.jsx)("span",{className:"text-[16px] lg:text-[16px] mt-2",children:"XAF"}),(0,s.jsx)("span",{className:"text-[32px] lg:text-[36px] font-extrabold",children:t.toLocaleString("en-US")})]}),(0,s.jsx)("div",{className:"text-[14px] text-pink font-semibold mx-[10px] text-center",children:"Bonus de parrainage"}),(0,s.jsx)("button",{className:"mt-[8px] hidden lg:flex justify-center text-white text-[16px] px-[18px] py-[10px] rounded-[4px] bg-pink",children:"Reclamer le bonus"})]}),(0,s.jsx)(i.default,{src:"/awards/money.png",alt:"Money image",className:"hidden lg:block mt-[-12px] w-[250px]"})]}),(0,s.jsxs)("div",{className:"flex justify-center lg:justify-between items-center flex-1 px-[8px] lg:px-[32px] rounded-[12px] border-2 bg-primary/20 border-primary min-h-[120px]",children:[(0,s.jsxs)("div",{className:"text-primary font-bold text-center flex flex-col items-center ",children:[(0,s.jsx)("div",{className:"flex items-start",children:(0,s.jsx)("h3",{className:"text-[32px] lg:text-[64px] font-extrabold",children:r})}),(0,s.jsx)("div",{className:"text-[14px] lg:text-[24px] font-semibold mx-[10px] text-center",children:"Filleuls"})]}),(0,s.jsx)(i.default,{src:"/awards/people.png",alt:"People image",className:"hidden lg:block mr-[100px] w-[140px]"})]})]})},x=e=>{let{cashbackGain:t}=e;return(0,s.jsxs)("div",{className:"bg-indigo/20 rounded-[12px] p-[12px] gap-[8px] border-2 border-indigo flex flex-col items-center",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between w-[90%]",children:[(0,s.jsx)(i.default,{src:"/awards/phonepay.png",alt:"Phonepay",className:"h-[100px] mb-[6px]"}),(0,s.jsxs)("div",{className:"flex flex-col items-end text-indigo",children:[(0,s.jsxs)("h5",{className:"font-bold flex items-start",children:[(0,s.jsx)("span",{className:"text-[16px]",children:"XAF"}),(0,s.jsx)("span",{className:"text-[36px]",children:t})]}),(0,s.jsx)("h5",{className:"font-bold text-[14px]",children:"Cashback disponibles"})]})]}),(0,s.jsx)("button",{className:"px-[18px] py-[10px] w-full bg-indigo text-white rounded-[4px]",children:"Convertir en Transaction"})]})},p=()=>(0,s.jsxs)("div",{className:"flex flex-col bg-primary w-full rounded-[12px] gap-[0px] p-[16px]",children:[(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-[8px] text-white",children:[(0,s.jsx)("h4",{className:"text-[16px] font-bold",children:"Il est temps de faire un virement"}),(0,s.jsx)("p",{className:"text-[12px] font-light",children:"Pret \xe0 transf\xe9rer de l'argent ? Cliquez ici pour commencer et profitez d'une experience rapide, securis\xe9e et sans tracas"})]}),(0,s.jsx)(i.default,{src:"/awards/spacerocket.png",alt:"spacerocket",className:"h-[100px] mb-[6px]"})]}),(0,s.jsx)("button",{className:"bg-white rounded-[4px] py-[10px] px-[18px] w-full text-primary font-bold",children:"Envoyer de l'argent"}),(0,s.jsx)("h5",{children:"We've sent a verification code to your email. Enter it below to complete your login"}),(0,s.jsx)(i.default,{src:"/path/to/image",alt:"Description of image"}),(0,s.jsx)(i.default,{src:"/path/to/another-image",alt:"Description of another image"}),(0,s.jsx)("h5",{children:"Don't have an account? Sign up"})]});var d=r(3722),u=r(441),f=r(6677),m=r(7041);let h=()=>{let[e,t]=(0,a.useState)([]),[r,i]=(0,a.useState)(0),[h,g]=(0,a.useState)(0),[b,j]=(0,a.useState)(!1),[v,y]=(0,a.useState)(!1),w=(0,l.j)(),N=(0,l.G)(e=>e.token.token),O=(0,l.G)(e=>e.user),P=O.referralCode,k=new URLSearchParams({ref_code:(null==P?void 0:P.toString())||""}).toString();return(0,a.useEffect)(()=>{let e=async()=>{try{let e=0;(await o.A.get("${process.env.NEXT_PUBLIC_SERVER_BASE_URL}/api/v1/transactions/user",{headers:{Authorization:"Bearer "+N,"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}})).data.data.forEach(t=>{t.cashback&&(e+=t.cashback)}),g(e)}catch(e){console.error("Error while fetching transaction list:",e)}};(async()=>{try{let e=await o.A.get("${process.env.NEXT_PUBLIC_SERVER_BASE_URL}/api/v1/referral?code=".concat(P),{headers:{Authorization:"Bearer "+N,"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}});console.log("Referral list is:",e.data.data),w((0,n.C$)(e.data.data));let r=0,s=[];e.data.data.forEach((e,t)=>{let a={order:t+1,name:"".concat(e.fname," ").concat(e.lname),commission:e.referral.bonusTotal,bonusClaimed:"UNCLAIMED"!==e.referral.bonusStatus};"UNCLAIMED"===e.referral.bonusStatus&&(r+=e.referral.bonusTotal),s.push(a)}),t(s),i(r)}catch(t){var e;console.log(t),(null===(e=t.response)||void 0===e?void 0:e.status)===500&&(console.log("We suspect the user has no referrals"),w((0,n.C$)([])))}})(),e()},[N,w,P]),(0,s.jsxs)("div",{className:"relative h-full grow flex flex-col lg:flex-row gap-[24px] rounded-lg sm:rounded-3xl",children:[(0,s.jsxs)("main",{className:"grow max-h-[100%] hidden lg:flex flex-col space-y-[48px]",children:[(0,s.jsxs)("div",{className:"flex justify-between grow px-[6px]",children:[(0,s.jsx)("h5",{className:"text-[24px] mt-[20px] lg:mt-[40px] font-bold",children:"Mes R\xe9compenses"}),(0,s.jsx)(u.A,{userName:O.name,userSurname:O.surname,isLogoutVisible:b,setIsLogoutVisible:j})]}),(0,s.jsx)("div",{className:b?"mt-[60px]":"",children:(0,s.jsx)(c,{referralBonus:r,filleulCount:e.length})}),(0,s.jsxs)("div",{className:"flex grow gap-[32px] overflow-auto",children:[(0,s.jsx)(d.A,{filleulList:e}),(0,s.jsxs)("div",{className:"h-full max-w-[32%] flex flex-col gap-[20px]",children:[(0,s.jsx)(f.A,{referralCode:P,setIsDialogVisible:y}),(0,s.jsx)(x,{cashbackGain:h}),(0,s.jsx)(p,{})]})]})]}),(0,s.jsxs)("main",{className:"lg:hidden mb-[84px] space-y-[24px] px-[6px]",children:[(0,s.jsx)("h5",{className:"text-[24px] mt-[20px] lg:mt-[40px] font-bold",children:"Mes R\xe9compenses"}),(0,s.jsx)(x,{cashbackGain:h}),(0,s.jsx)(c,{referralBonus:r,filleulCount:e.length}),(0,s.jsx)(f.A,{referralCode:P,setIsDialogVisible:y}),(0,s.jsx)(d.A,{filleulList:e})]}),v&&(0,s.jsx)(m.A,{text:"".concat("http://localhost:3000","/auth/signup?").concat(k),onClose:()=>y(!1)})]})}},5565:(e,t,r)=>{"use strict";r.d(t,{default:()=>a.a});var s=r(4146),a=r.n(s)},6046:(e,t,r)=>{"use strict";var s=r(6658);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},4146:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return i},getImageProps:function(){return o}});let s=r(306),a=r(666),l=r(7970),n=s._(r(5514));function o(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let i=l.Image},3435:(e,t,r)=>{"use strict";r.d(t,{k5:()=>x});var s=r(2115),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l=s.createContext&&s.createContext(a),n=["attr","size","title"];function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var s,a;s=t,a=r[t],(s=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(s))in e?Object.defineProperty(e,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[s]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function x(e){return t=>s.createElement(p,o({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,r)=>s.createElement(t.tag,c({key:r},t.attr),e(t.child)))}(e.child))}function p(e){var t=t=>{var r,{attr:a,size:l,title:i}=e,x=function(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)r=l[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,n),p=l||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),s.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,x,{className:r,style:c(c({color:e.color||t.color},t.style),e.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),i&&s.createElement("title",null,i),e.children)};return void 0!==l?s.createElement(l.Consumer,null,e=>t(e)):t(a)}}},e=>{var t=t=>e(e.s=t);e.O(0,[266,150,512,391,651,442,757,970,342,441,517,358],()=>t(453)),_N_E=e.O()}]);