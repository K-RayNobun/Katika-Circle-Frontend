(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[148],{3962:(e,s,a)=>{Promise.resolve().then(a.bind(a,51))},51:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>g});var t=a(5155),r=a(9757),l=a(5055),o=a(5822),n=a(2115),i=a(2651),c=a(3391),x=a(5725);let d=e=>{let s={bgColor:"",textColor:"",icon:(0,t.jsx)(r.g,{icon:l.isI})};return"success"===e.toLowerCase()?s={bgColor:"bg-[#EDFFEC]",textColor:"text-[#009646]",icon:(0,t.jsx)(r.g,{className:"size-[20px]",icon:l.isI})}:"pending"===e.toLowerCase()?s={bgColor:"bg-[#FFE9DB]",textColor:"text-[#FF5C00]",icon:(0,t.jsx)(r.g,{className:"size-[24px]",icon:o.a$})}:"failed"===e.toLowerCase()?s={bgColor:"bg-red/20",textColor:"text-[#FF0004]",icon:(0,t.jsx)(r.g,{className:"size-[24px]",icon:l.Dfk})}:s},p=e=>{let{details:s}=e,a=d(s.status);return(0,t.jsxs)("div",{children:[(0,t.jsxs)("tr",{className:"hidden lg:flex w-full h-[72px] items-center text-center bg-white border-[#EAECF0] border-b text-[14px] font-bold px-[24px]",children:[(0,t.jsx)("td",{className:"w-[22%] px-[12px] ",children:(0,t.jsx)("h5",{className:"text-[#AFB4C0]",children:s.date})}),(0,t.jsx)("td",{className:"w-[30%] px-[12px]",children:(0,t.jsx)("h5",{children:s.destinatoryName})}),(0,t.jsx)("td",{className:"w-[14%] px-[12px]",children:(0,t.jsx)("h5",{children:s.amountSent})}),(0,t.jsx)("td",{className:"w-[20%] px-[12px] flex items-center justify-center",children:(0,t.jsx)("h4",{className:" font-bold text-[12px] text-center rounded-[16px] h-[24px] w-[72px]  ".concat(a.textColor+" "+a.bgColor),children:s.status})}),(0,t.jsx)("td",{className:"w-[14%] px-[12px]",children:s.cashbackGain||0})]}),(0,t.jsxs)("tr",{className:"flex flex-col items-start lg:hidden w-full bg-white border-[#EAECF0] border-b rounded-[8px] text-[14px] font-bold px-[24px] py-[7px]",children:[(0,t.jsx)("td",{className:"font-light",children:(0,t.jsx)("h5",{className:"text-[#AFB4C0]",children:s.date})}),(0,t.jsxs)("div",{className:"flex items-center w-full",children:[(0,t.jsx)("div",{className:"lg:hidden h-[40px] mt-[-30px] text-[16px] rounded-full flex items-center justify-center ".concat(a.bgColor," ").concat(a.textColor," "),children:a.icon}),(0,t.jsxs)("div",{children:[(0,t.jsx)("td",{className:"w-[30%] px-[12px]",children:(0,t.jsx)("h5",{className:"text-[12px]",children:s.destinatoryName})}),(0,t.jsx)("td",{className:"w-[20%] px-[12px] flex items-center",children:(0,t.jsx)("h4",{className:" font-bold text-[12px] text-center rounded-[16px] h-[24px] w-[72px]  ".concat(a.textColor),children:s.status})})]}),(0,t.jsx)("div",{className:"grow"}),(0,t.jsx)("td",{className:"w-[14%] px-[12px]",children:(0,t.jsx)("h5",{children:s.amountSent})})]})]})]})},h=e=>{let{accessToken:s,searchKey:a,field:o}=e,[d,h]=(0,n.useState)([]),[m,g]=(0,n.useState)([]),u=(0,c.wA)();return console.log("Seacrh Key is",a),console.log("Field concerned is",o),(0,n.useEffect)(()=>{(async()=>{try{let e=0;console.log("------------------ Getting Transactions --------------");let a=await i.A.get("https://blank-lynde-fitzgerald-ef8fba55.koyeb.app/api/v1/transactions/user",{headers:{Authorization:"Bearer "+s,"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}});console.log("We got this list of transactions: ",a.data.data);let t=a.data.data.slice().reverse(),r=[];t.forEach((s,a)=>{let t=new Date(s.creationDate);console.log("Transaction status is ",s.transactionStatus+"And it cashback is",s.cashBack.amount);let l={order:a,status:s.transactionStatus,date:t.toLocaleString("en-US"),amountSent:s.amount,currencySent:"euro"===s.currency.toLowerCase()?"â‚¬":s.currency.slice(0,3).toUpperCase(),destinatoryName:s.recipient.name,cashbackGain:"Success"===s.transactionStatus?s.cashBack.amount:0},o=s.cashBack.amount;o&&(e+=o),u((0,x.Ii)(e)),r.push(l)}),h(r),console.log("----------------- Finished Getting transactions --------------")}catch(e){console.error("We met this error  while getting the transaction list",e)}})()},[s]),(0,n.useEffect)(()=>{if(a.length>0){let e=[];d.forEach(s=>{s[o].toString().toLowerCase().includes(a.toLowerCase())&&(console.log("Found it in the transaction sent to ",s.destinatoryName+" on "+s.date),e.push(s)),g(e)})}},[a,o,d]),(0,t.jsx)("div",{className:"grow w-full overflow-auto",children:(0,t.jsxs)("table",{className:"flex flex-col w-full mb-[50px]",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"hidden lg:flex w-full bg-[#F9FAFB]  text-gray_dark py-[12px] px-[24px] border border-[#EAECF0]",children:[(0,t.jsxs)("th",{className:"w-[22%] px-[12px]",children:["Date et Heure ",(0,t.jsx)(r.g,{size:"sm",icon:l.B0C,className:"ml-1"})]}),(0,t.jsx)("th",{className:"w-[30%] px-[12px]",children:"Destinataire"}),(0,t.jsx)("th",{className:"w-[14%] px-[12px]",children:"Montant envoy\xe9"}),(0,t.jsx)("th",{className:"w-[20%] px-[12px]",children:"Statut de la transaction"}),(0,t.jsx)("th",{className:"w-[14%] px-[12px]",children:"Cashback g\xe9n\xe9r\xe9"})]})}),(0,t.jsx)("tbody",{children:(0,t.jsx)("tr",{className:"block h-full w-full space-y-[16px] lg:space-y-[0px] overflow-auto",children:0===a.length?d.map((e,s)=>(0,t.jsx)(p,{details:e},s)):m.map((e,s)=>(0,t.jsx)(p,{details:e},s))})}),(0,t.jsx)("button",{className:"".concat("hidden lg:block"," w-full bg-[#F9FAFB] py-[16px] hover:bg-gray rounded-b-[8px]'"),children:(0,t.jsx)("h5",{className:"text-center",children:"Voir plus"})})]})})};var m=a(734);let g=()=>{let e=(0,m.G)(e=>e.token.token),[s,a]=(0,n.useState)("date"),[i,c]=(0,n.useState)("");return(0,t.jsx)("div",{className:"relative h-full grow flex flex-col lg:flex-row gap-[24px] rounded-lg sm:rounded-3xl",children:(0,t.jsxs)("div",{className:"grow flex flex-col space-y-[48px]",children:[(0,t.jsxs)("div",{className:"flex flex-col space-y-[32px] px-[6px] ",children:[(0,t.jsxs)("div",{className:"flex justify-between grow",children:[(0,t.jsx)("h5",{className:"text-[24px] mt-[20px] lg:mt-[40px] font-bold ",children:"Mes Transactions"}),(0,t.jsxs)("div",{className:"hidden lg:flex justify-between pl-[32px] gap-[32px] h-[59px]",children:[(0,t.jsx)("div",{className:"size-[59px] flex justify-center items-center",children:(0,t.jsx)(r.g,{className:"h-[32px] text-gray_dark",icon:o.z$e})}),(0,t.jsxs)("div",{className:"h-full hidden lg:flex items-center rounded-[8px] gap-[16px] px-[24px] py-[9px] bg-white",children:[(0,t.jsx)("div",{className:"size-[41px] rounded-sm bg-gray"}),(0,t.jsxs)("div",{className:"flex justify-between items-center w-[108px]",children:[(0,t.jsx)("h5",{className:"text-[16px] text-gray_dark/60",children:"John Doe"}),(0,t.jsx)(r.g,{className:"h-[16px] text-gray_dark/60",icon:l.Jt$})]})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-between gap-[12px] lg:gap-[24px]",children:[(0,t.jsxs)("div",{className:"h-[44px] w-[80%] lg:w-[30%] bg-white rounded-[8px] px-[14px] py-[10px] border-2 border-stroke flex space-x-[8px]",children:[(0,t.jsx)(r.g,{icon:l.MjD,className:"size-[20px] text-stroke"}),(0,t.jsx)("input",{placeholder:"Search",onChange:e=>c(e.target.value),className:"text-[16px] grow text-gray_dark"})]}),(0,t.jsxs)("div",{className:"relative h-[44px] w-[40px] lg:w-[220px] bg-white border-2 border-stroke rounded-[8px] flex items-center gap-[9px]",children:[(0,t.jsx)(r.g,{icon:l.mRM,className:"size-[20px] text-stroke mx-[8px]"}),(0,t.jsx)("select",{onChange:e=>{a(e.target.value),c(i)},className:"inline absolute top-0 left-0 lg:relative right-[8px] size-[100%] lg:w-[80%] bg-transparent text-transparent lg:text-stroke lg:hover:text-primary_dark text-[16px]",children:[{name:"Date et Heure",property:"date"},{name:"Destinataire",property:"destinatoryName"},{name:"Montant envoy\xe9",property:"amountSent"},{name:"Statut de la transaction",property:"status"},{name:"Cashback g\xe9n\xe9r\xe9",property:"cashbackGain"}].map((e,s)=>(0,t.jsx)("option",{value:e.property,className:"inline-block text-black",children:e.name},s))})]})]})]}),(0,t.jsx)(h,{accessToken:e,searchKey:i,field:s})]})})}},5725:(e,s,a)=>{"use strict";a.d(s,{Ay:()=>g,C$:()=>x,FH:()=>l,Gy:()=>c,Ii:()=>d,Mp:()=>o,O4:()=>i,kg:()=>r,p3:()=>m,z0:()=>n});let t=(0,a(9442).Z0)({name:"user",initialState:{name:"",surname:"",email:"",pwdhash:"",country:"",verified:!1},reducers:{createUser:(e,s)=>{console.log("Hello I am creating a user..."),e.name=s.payload.name,e.surname=s.payload.surname,e.email=s.payload.email,e.pwdhash=s.payload.pwdhash,e.country=s.payload.country,console.log("The user information are : ",e.name+e.pwdhash+e.email)},verifyUser:(e,s)=>{e.verified=s.payload,console.log("	 ###Verifying the user as ",e.verified)},setWalletAdress:(e,s)=>{e.walletAddress=s.payload,console.log("	 ### The wallet address has been set as ",e.walletAddress)},setReferralCode:(e,s)=>{e.referralCode=s.payload,console.log("	 ### The referral Code is ",e.referralCode)},setFirstReferringCode:(e,s)=>{e.firstReferringCode=s.payload,console.log("	 ### The First Referring code has been set to ",e.firstReferringCode)},setReferralList:(e,s)=>{e.referralList=s.payload,console.log("	  ### Just registered the user referrals as ",e.referralList)},setProfileImageKey:(e,s)=>{e.profileImageKey=s.payload,console.log("	  ### This user profile image has the key ",e.profileImageKey)},provideCashback:(e,s)=>{e.cashback=s.payload,console.log("	 ### The user cashback is ",e.cashback)},provideReferralGain:(e,s)=>{e.referralGain=s.payload,console.log("	 ### The user referral gain is ",e.referralGain)},provideFilleulsList:(e,s)=>{e.referralList=s.payload,console.log("	 ### The user referral list is ",e.referralList)},resetUser:e=>{e.name="",e.surname="",e.email="",e.pwdhash="",e.walletAddress="",e.country="",e.verified=!1,e.referralCode="",e.referralGain=0,e.referralList=[],e.cashback=0}}}),{createUser:r,verifyUser:l,setWalletAdress:o,setReferralCode:n,setFirstReferringCode:i,setProfileImageKey:c,setReferralList:x,provideCashback:d,provideFilleulsList:p,provideReferralGain:h,resetUser:m}=t.actions,g=t.reducer},734:(e,s,a)=>{"use strict";a.d(s,{G:()=>l,j:()=>r});var t=a(3391);let r=t.wA,l=t.d4}},e=>{var s=s=>e(e.s=s);e.O(0,[266,391,651,442,757,822,441,517,358],()=>s(3962)),_N_E=e.O()}]);