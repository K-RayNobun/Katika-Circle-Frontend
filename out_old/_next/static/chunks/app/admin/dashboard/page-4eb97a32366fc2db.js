(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[957],{3441:(e,s,t)=>{Promise.resolve().then(t.bind(t,7688))},7688:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var a=t(5155),r=t(2115),l=t(9757),n=t(5055),i=t(2651);let c=e=>{let s={bgColor:"",textColor:"",icon:(0,a.jsx)(l.g,{icon:n.isI})};return"success"===e.toLowerCase()?{bgColor:"bg-[#EDFFEC]",textColor:"text-[#009646]",icon:(0,a.jsx)(l.g,{className:"size-[20px]",icon:n.isI})}:"pending"===e.toLowerCase()?{bgColor:"bg-[#FFE9DB]",textColor:"text-[#FF5C00]",icon:(0,a.jsx)(l.g,{className:"size-[24px]",icon:n.a$})}:"failed"===e.toLowerCase()||"cancelled"===e.toLowerCase()?{bgColor:"bg-red/20",textColor:"text-[#FF0004]",icon:(0,a.jsx)(l.g,{className:"size-[24px]",icon:n.Dfk})}:s},o=e=>{let{details:s,onClick:t}=e,r=c(s.status);return(0,a.jsxs)("div",{onClick:t,className:"cursor-pointer",children:[(0,a.jsxs)("tr",{className:"hidden lg:flex w-full h-[72px] items-center text-center bg-white border-[#EAECF0] border-b text-[14px] font-bold px-[24px]",children:[(0,a.jsx)("td",{className:"w-[22%] px-[12px]",children:(0,a.jsx)("h5",{className:"text-[#AFB4C0]",children:s.date})}),(0,a.jsx)("td",{className:"w-[30%] px-[12px]",children:(0,a.jsx)("h5",{children:s.destinatoryName})}),(0,a.jsx)("td",{className:"w-[14%] px-[12px]",children:(0,a.jsx)("h5",{children:s.amountSent})}),(0,a.jsx)("td",{className:"w-[20%] px-[12px] flex items-center justify-center",children:(0,a.jsx)("h4",{className:"font-bold text-[12px] text-center rounded-[16px] h-[24px] w-[72px] ".concat(r.textColor," ").concat(r.bgColor),children:s.status})}),(0,a.jsx)("td",{className:"w-[14%] px-[12px]",children:s.cashbackGain||0})]}),(0,a.jsxs)("tr",{className:"flex flex-col items-start lg:hidden w-full bg-white border-[#EAECF0] border-b rounded-[8px] text-[14px] font-bold px-[24px] py-[7px]",children:[(0,a.jsx)("td",{className:"font-light",children:(0,a.jsx)("h5",{className:"text-[#AFB4C0]",children:s.date})}),(0,a.jsxs)("div",{className:"flex items-center w-full",children:[(0,a.jsx)("div",{className:"lg:hidden h-[40px] mt-[-30px] text-[16px] rounded-full flex items-center justify-center ".concat(r.bgColor," ").concat(r.textColor),children:r.icon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("td",{className:"w-[30%] px-[12px]",children:(0,a.jsx)("h5",{className:"text-[12px]",children:s.destinatoryName})}),(0,a.jsx)("td",{className:"w-[20%] px-[12px] flex items-center",children:(0,a.jsx)("h4",{className:"font-bold text-[12px] text-center rounded-[16px] h-[24px] w-[72px] ".concat(r.textColor),children:s.status})})]}),(0,a.jsx)("div",{className:"grow"}),(0,a.jsx)("td",{className:"w-[14%] px-[12px]",children:(0,a.jsx)("h5",{children:s.amountSent})})]})]})]})},d=e=>{let{accessToken:s,searchKey:t,field:d,onTransactionClick:x}=e,[m,p]=(0,r.useState)([]),[h,u]=(0,r.useState)([]),[g,f]=(0,r.useState)(null),b=async e=>{let{status:t,id:a}=e,r=await i.A.put("${process.env.NEXT_PUBLIC_SERVER_BASE_URL}/api/v1/transaction/".concat(a),{status:t},{headers:{Authorization:"Bearer "+s,"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}});console.log("We set the status to:",t),console.log("The response is:",r)};return(0,r.useEffect)(()=>{(async()=>{try{let e=(await i.A.get("${process.env.NEXT_PUBLIC_SERVER_BASE_URL}/api/v1/transactions",{headers:{Authorization:"Bearer "+s,"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}})).data.data.slice().reverse();console.log("Got the transactions list as",e.slice(0,9));let t=e.map((e,s)=>({id:e.id,order:s,status:e.transactionStatus,date:new Date(e.creationDate).toLocaleString("en-US"),amountSent:e.amount,currencySent:"euro"===e.currency.toLowerCase()?"â‚¬":e.currency.slice(0,3).toUpperCase(),destinatoryName:e.recipient.name,cashbackGain:"Success"===e.transactionStatus?e.cashBack.amount:0,transferType:e.transactionType,amountReceived:e.recipient.amountReceive,currencyReceived:"cameroon"===e.recipient.receiverCountry.toLowerCase()?"XAF":"???",receiverName:e.recipient.name,receiverPhone:e.recipient.phone,receiverBankName:e.recipient.bankName,receiverBankIban:e.recipient.iban,receiverCountry:e.recipient.receiverCountry}));p(t)}catch(e){console.error("Error while fetching transaction list:",e)}})()},[s]),(0,r.useEffect)(()=>{t.length>0&&u(m.filter(e=>e[d].toString().toLowerCase().includes(t.toLowerCase())))},[t,d,m]),(0,a.jsxs)("div",{className:"grow w-full overflow-auto max-h-[772px] overflow-y-auto",children:[(0,a.jsxs)("table",{className:"flex flex-col w-full mb-[50px]",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"hidden lg:flex w-full bg-[#F9FAFB] text-gray_dark py-[12px] px-[24px] border border-[#EAECF0]",children:[(0,a.jsxs)("th",{className:"w-[22%] px-[12px]",children:["Date et Heure ",(0,a.jsx)(l.g,{size:"sm",icon:n.B0C,className:"ml-1"})]}),(0,a.jsx)("th",{className:"w-[30%] px-[12px]",children:"Destinataire"}),(0,a.jsx)("th",{className:"w-[14%] px-[12px]",children:"Montant envoy\xe9"}),(0,a.jsx)("th",{className:"w-[20%] px-[12px]",children:"Statut de la transaction"}),(0,a.jsx)("th",{className:"w-[14%] px-[12px]",children:"Cashback g\xe9n\xe9r\xe9"})]})}),(0,a.jsx)("tbody",{children:(0,a.jsx)("tr",{className:"block h-full w-full space-y-[16px] lg:space-y-[0px] overflow-auto",children:0===t.length?m.map((e,s)=>(0,a.jsx)(o,{details:e,onClick:()=>{f(e),x(e)}},s)):h.map((e,s)=>(0,a.jsx)(o,{details:e,onClick:()=>{f(e),x(e)}},s))})})]}),g&&(0,a.jsx)("div",{className:"fixed top-0 left-0 right-0 bottom-0 flex items-center justify-center bg-black/70 backdrop-blur-sm z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-[16px] w-[90%] lg:w-[50%] max-h-[85vh] overflow-auto transform transition-all duration-300 ease-out scale-in ".concat(c(g.status).bgColor.replace("bg-","border-")," border-l-4 shadow-2xl"),children:[(0,a.jsx)("div",{className:"sticky top-0 bg-white px-6 py-4 border-b border-gray-100",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h3",{className:"text-[24px] font-bold",children:"Transaction Details"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 rounded-full ".concat(c(g.status).bgColor," ").concat(c(g.status).textColor),children:[c(g.status).icon,(0,a.jsx)("span",{className:"text-sm font-medium",children:g.status})]})]})}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray_dark/70 mb-1",children:"Date"}),(0,a.jsx)("p",{className:"font-semibold",children:g.date})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray_dark/70 mb-1",children:"Destinataire"}),(0,a.jsx)("p",{className:"font-semibold",children:g.destinatoryName})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray_dark/70 mb-1",children:"Montant envoy\xe9"}),(0,a.jsxs)("p",{className:"font-semibold text-lg",children:[g.amountSent," ",g.currencySent]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray_dark/70 mb-1",children:"Montant re\xe7u"}),(0,a.jsxs)("p",{className:"font-semibold text-lg",children:[g.amountReceived," ",g.currencyReceived]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray_dark/70 mb-1",children:"Cashback g\xe9n\xe9r\xe9"}),(0,a.jsxs)("p",{className:"font-semibold text-primary",children:[g.cashbackGain," XAF"]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray_dark/70 mb-1",children:"Pays du destinataire"}),(0,a.jsx)("p",{className:"font-semibold",children:g.receiverCountry})]})]})]}),"MobileMoney"===g.transferType&&(0,a.jsxs)("div",{className:"mt-6 bg-gray-50 p-4 rounded-lg space-y-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-primary",children:"Mobile Money Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray_dark/70 mb-1",children:"Nom du destinataire"}),(0,a.jsx)("p",{className:"font-semibold",children:g.destinatoryName})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray_dark/70 mb-1",children:"Tel du destinataire"}),(0,a.jsxs)("p",{className:"font-semibold",children:["+",g.receiverPhone]})]})]})]}),"Bank"===g.transferType&&(0,a.jsxs)("div",{className:"mt-6 bg-gray-50 p-4 rounded-lg space-y-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-primary",children:"Bank Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray_dark/70 mb-1",children:"Banque destinataire"}),(0,a.jsx)("p",{className:"font-semibold",children:g.receiverBankName})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-gray_dark/70 mb-1",children:"IBAN code"}),(0,a.jsx)("p",{className:"font-mono font-medium",children:g.receiverBankIban})]})]})]})]}),(0,a.jsxs)("div",{className:"sticky bottom-0 bg-white px-6 py-4 flex justify-between border-t border-gray-100",children:[(0,a.jsx)("button",{onClick:()=>{b({status:"Success",id:g.id}),f(null)},className:"w-full md:w-auto bg-green hover:bg-green/90 transition-colors duration-200 text-white px-6 py-2.5 rounded-lg font-medium",children:"Validate"}),(0,a.jsx)("button",{onClick:()=>f(null),className:"w-full md:w-auto bg-primary hover:bg-primary/90 transition-colors duration-200 text-white px-6 py-2.5 rounded-lg font-medium",children:"Close"})]})]})})]})};var x=t(734);let m=()=>{let[e,s]=(0,r.useState)("transactions"),t=(0,x.G)(e=>e.token.token),[i,c]=(0,r.useState)("date"),[o,m]=(0,r.useState)("");return(0,a.jsx)("div",{className:"h-full grow flex flex-col lg:flex-row gap-[24px] rounded-lg sm:rounded-3xl",children:(0,a.jsxs)("main",{className:"grow flex flex-col mb-[84px] lg:space-y-[16px]",children:[(0,a.jsx)("div",{className:"flex justify-between px-[6px]",children:(0,a.jsx)("h5",{className:"text-[24px] my-[20px] lg:mt-[40px] font-bold",children:"Admin Dashboard"})}),(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row flex-1 bg-white rounded-[12px]",children:[(0,a.jsx)("div",{className:"h-full border-r-2 border-r-gray px-[12px] py-[8px]",children:(0,a.jsxs)("div",{className:"flex lg:flex-col text-center lg:justify-start w-full lg:w-[160px] h-[64px] lg:h-max space-x-[6px] lg:space-y-[24px]",children:[(0,a.jsx)("button",{onClick:()=>s("users"),className:"grow flex items-center justify-center lg:justify-start h-full w-full px-[16px] py-[10px] rounded-[8px] ".concat("users"===e?"bg-primary/20 text-primary font-bold":"hover:bg-primary/10 hover:text-primary hover:font-bold"),children:(0,a.jsx)("h5",{children:"Users"})}),(0,a.jsx)("button",{onClick:()=>s("transactions"),className:"grow flex items-center justify-center lg:justify-start h-full w-full px-[16px] py-[10px] rounded-[8px] ".concat("transactions"===e?"bg-primary/20 text-primary font-bold":"hover:bg-primary/10 hover:text-primary hover:font-bold"),children:(0,a.jsx)("h5",{children:"Transactions"})})]})}),(0,a.jsxs)("div",{className:"w-full",children:["transactions"===e&&(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"h-[44px] w-full lg:w-[40%] bg-white rounded-[12px] px-4 border-2 border-stroke hover:border-primary/30 focus-within:border-primary/50 transition-colors duration-200 flex items-center space-x-3 shadow-sm",children:[(0,a.jsx)(l.g,{icon:n.MjD,className:"size-[18px] text-gray_dark/70"}),(0,a.jsx)("input",{placeholder:"Search transactions...",onChange:e=>m(e.target.value),className:"text-[15px] grow text-gray_dark placeholder:text-gray_dark/50 focus:outline-none"})]}),(0,a.jsxs)("div",{className:"relative h-[44px] w-full lg:w-[280px] group",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-4 pointer-events-none",children:(0,a.jsx)(l.g,{icon:n.mRM,className:"size-[18px] text-gray_dark/70 group-hover:text-primary/70 transition-colors duration-200"})}),(0,a.jsx)("select",{onChange:e=>c(e.target.value),className:"h-full w-full pl-12 pr-4 appearance-none bg-white border-2 border-stroke    rounded-[12px] text-[15px] text-gray_dark cursor-pointer   hover:border-primary/30 focus:border-primary/50 focus:outline-none   transition-colors duration-200 shadow-sm",children:[{name:"Date et Heure",property:"date"},{name:"Destinataire",property:"destinatoryName"},{name:"Montant envoy\xe9",property:"amountSent"},{name:"Statut de la transaction",property:"status"},{name:"Cashback g\xe9n\xe9r\xe9",property:"cashbackGain"}].map((e,s)=>(0,a.jsx)("option",{value:e.property,className:"py-2",children:e.name},s))}),(0,a.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-4 pointer-events-none",children:(0,a.jsx)(l.g,{icon:n.Jt$,className:"size-[14px] text-gray_dark/70 group-hover:text-primary/70 transition-colors duration-200"})})]})]}),(0,a.jsx)(d,{accessToken:t,searchKey:o,field:i,onTransactionClick:e=>console.log(e)})]}),"users"===e&&(0,a.jsxs)("div",{className:"p-[24px]",children:[(0,a.jsx)("h4",{className:"text-[24px] font-bold text-primary",children:"Users"}),(0,a.jsx)("p",{className:"text-gray_dark",children:"Users tab is under construction."})]})]})]})]})})}},734:(e,s,t)=>{"use strict";t.d(s,{G:()=>l,j:()=>r});var a=t(3391);let r=a.wA,l=a.d4}},e=>{var s=s=>e(e.s=s);e.O(0,[266,391,651,757,441,517,358],()=>s(3441)),_N_E=e.O()}]);